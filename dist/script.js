"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Watcher=function(){function r(e){var t=this;_classCallCheck(this,r),this.parsers=[],this.container=e,this.observer=new MutationObserver(function(r){return t.defaultParser(r)}).observe(e,{childList:!0,subtree:!0})}return _createClass(r,[{key:"defaultParser",value:function(r){var e=this;r.forEach(function(r){return e.force(r.addedNodes)})}},{key:"addParser",value:function(r){this.parsers.push(r)}},{key:"force",value:function(r){var e=this;[].concat(_toConsumableArray(r)).forEach(function(r){return e.parsers.forEach(function(e){return e(r)})})}}]),r}(),watcher=new Watcher(chat),userColorSheet=document.createElement("style"),foundColorUsers=[];document.head.appendChild(userColorSheet);var hashCode=function(r){var e=0;r+="!";for(var t=0;t<r.length;t++)e=r.charCodeAt(t)+((e<<5)-e);return-e},colorCode=function(r){return"#"+(Math.min(r>>24&255,175).toString(16)+Math.min(r>>16&255,175).toString(16)+Math.min(r>>8&255,175).toString(16)+Math.min(255&r,175).toString(16)).slice(0,6)},writeToSheet=function(r){userColorSheet.textContent+=".user-"+r.key+" .messages { border-top: solid .25em "+r.color+" !important; } "},colorUserParser=function(r){if(r.classList&&r.classList.contains("user-container")){var e=r.querySelector("a.signature");if(!e)return;var t=e.getAttribute("href").split("/")[2];foundColorUsers.includes(t)||(foundColorUsers.push(t),writeToSheet({key:t,color:colorCode(hashCode(t))}))}};watcher.addParser(colorUserParser),watcher.force(document.querySelectorAll(".user-container"));