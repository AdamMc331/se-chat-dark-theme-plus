"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Array.from||(Array.from=function(){var r=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===r.call(e)},t=function(r){var e=Number(r);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,o=function(r){var e=t(r);return Math.min(Math.max(e,0),n)};return function(r){var t=this,n=Object(r);if(null==r)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,s=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof s){if(!e(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var u,c=o(n.length),i=e(t)?Object(new t(c)):new Array(c),l=0;c>l;)u=n[l],s?i[l]="undefined"==typeof a?s(u,l):s.call(a,u,l):i[l]=u,l+=1;return i.length=c,i}}());var Watcher=function(){function r(e){var t=this;_classCallCheck(this,r),this.parsers=[],this.container=e,this.observer=new MutationObserver(function(r){return t.defaultParser(r)}).observe(e,{childList:!0,subtree:!0})}return _createClass(r,[{key:"defaultParser",value:function(r){var e=this;r.forEach(function(r){return e.force(r.addedNodes)})}},{key:"addParser",value:function(r){this.parsers.push(r)}},{key:"force",value:function(r){var e=this;[].concat(_toConsumableArray(r)).forEach(function(r){return r.classList&&e.parsers.forEach(function(e){return e(r)})})}}]),r}(),watcher=new Watcher(chat),userColorSheet=document.createElement("style"),foundColorUsers=[];document.head.appendChild(userColorSheet);var hashCode=function(r){var e=0;r+="!salty";for(var t=0;t<r.length;t++)e=r.charCodeAt(t)+((e<<5)-e);return e},colorCode=function(r){var e=Math.abs(r)%360;return"hsl("+e+", 50%, 50%)"},writeToSheet=function(r){userColorSheet.textContent+=".user-"+r.key+" .messages { border-top: solid .25em "+r.color+" !important; } "},colorUserParser=function(r){if(r.classList.contains("user-container")){var e=r.querySelector("a.signature");if(!e)return;var t=e.getAttribute("href").split("/")[2];-1===foundColorUsers.indexOf(t)&&(foundColorUsers.push(t),writeToSheet({key:t,color:colorCode(hashCode(t))}))}};watcher.addParser(colorUserParser),watcher.force(document.querySelectorAll(".user-container"));var webmOneboxParser=function(r){};watcher.addParser(webmOneboxParser);